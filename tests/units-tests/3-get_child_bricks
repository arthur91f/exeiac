args_list="$rooms_path/infra-grounds/1-init/1-production.sh
$rooms_path/infra-grounds/2-envs/1-production/1-network
$rooms_path/infra-grounds/2-envs/1-production
$rooms_path/non-existing-path/1-non_existing_dir
$rooms_path
$rooms_path/infra-grounds/2-envs/1-production/9-no_modules_dir"

function test {
    echo "____________"
    echo ""
    sed "s|$rooms_path|#> |g" <<<"$1"
    exeiac debug -debug-command="get_child_bricks $1"
    echo "\$?:$?"
}

while read line ; do
    test "$line"
done <<<"$args_list"

######################
## COMMANDS RESULTS ##
____________

#> /infra-grounds/1-init/1-production.sh
return code: 1
$?:0
____________

#> /infra-grounds/2-envs/1-production/1-network
return code: 1
$?:0
____________

#> /infra-grounds/2-envs/1-production
${ROOMS_PATH}/infra-grounds/2-envs/1-production/1-network
${ROOMS_PATH}/infra-grounds/2-envs/1-production/2-bastion
${ROOMS_PATH}/infra-grounds/2-envs/1-production/9-no_modules_dir
return code: 0
$?:0
____________

#> /non-existing-path/1-non_existing_dir
return code: 1
$?:0
____________

#> 
${ROOMS_PATH}/infra-grounds/1-init/1-monitoring.sh
${ROOMS_PATH}/infra-grounds/1-init/1-production.sh
${ROOMS_PATH}/infra-grounds/1-init/1-staging.sh
${ROOMS_PATH}/infra-grounds/2-envs/2-monitoring/1-network
${ROOMS_PATH}/infra-grounds/2-envs/2-monitoring/2-bastion
${ROOMS_PATH}/infra-grounds/2-envs/1-production/1-network
${ROOMS_PATH}/infra-grounds/2-envs/1-production/2-bastion
${ROOMS_PATH}/infra-grounds/2-envs/1-production/9-no_modules_dir
${ROOMS_PATH}/infra-grounds/2-envs/1-staging/1-network
${ROOMS_PATH}/infra-grounds/2-envs/1-staging/2-bastion
return code: 0
$?:0
____________

#> /infra-grounds/2-envs/1-production/9-no_modules_dir
return code: 1
$?:0

