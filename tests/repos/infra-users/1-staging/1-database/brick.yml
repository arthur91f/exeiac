version: 1.0.0
module: test
dependencies:
  EXEIAC_TEST_admins_group:
    from: users/users_and_groups:output:$.groups.admin
  EXEIAC_TEST_database:
    from: infra-ground/envs/staging/database:output:$.*
  EXEIAC_TEST_devs_groups:
    from: users/users_and_groups:output:$.groups.dev
  EXEIAC_TEST_ops_group:
    from: users/users_and_groups:output:$.groups.ops
  EXEIAC_TEST_products_groups:
    from: users/users_and_groups:output:$.groups.product
  TF_VAR_env_name:
    from: infra-ground/init/create_accounts:output:$.projects.staging.env
  TF_VAR_project_id:
    from: infra-ground/init/create_accounts:output:$.projects.staging.project_id
  
inputs:
- type: env_vars
  format: env
  path: 
  datas:
    - TF_VAR_project_id
    - TF_VAR_env_name
    - EXEIAC_TEST_admins_group
    - EXEIAC_TEST_ops_group
    - EXEIAC_TEST_devs_groups
    - EXEIAC_TEST_products_groups
    - EXEIAC_TEST_database
