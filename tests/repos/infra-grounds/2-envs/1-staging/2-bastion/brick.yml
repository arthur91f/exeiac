version: 1.0.0
module: terraform
dependencies:
  TF_VAR_env_name:
    from: infra-ground/init/create_accounts:output:$.projects.staging.env
  TF_VAR_project_id:
    from: infra-ground/init/create_accounts:output:$.projects.staging.project_id
  internal_domain_name:
    from: infra-ground/envs/staging/network:output:$.domain_name.internal
  network_id:
    from: infra-ground/envs/staging/network:output:$.network.network_id
  network_ip_range:
    from: infra-ground/envs/staging/network:output:$.network.ip_range
  private_domain_name:
    from: infra-ground/envs/staging/network:output:$.domain_name.private
  
inputs:
- type: env_vars
  format: env
  path: 
  datas:
    - TF_VAR_project_id
    - TF_VAR_env_name
- type: file
  format: json
  path: from_exeiac.auto.tfvars.json
  datas:
    - network_id
    - network_ip_range
    - private_domain_name
    - internal_domain_name
